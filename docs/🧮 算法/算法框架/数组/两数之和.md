---
sidebar_position: 9
---

  ## é¢˜ç›®

> é¢˜ç›®æ¥æºï¼š[1. ä¸¤æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/two-sum)ã€‚

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º å’Œä¸ºç›®æ ‡å€¼ çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚

ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ åœ¨ç­”æ¡ˆé‡Œä¸èƒ½é‡å¤å‡ºç°ã€‚

ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚

**ç¤ºä¾‹ 1ï¼š**

```txt
è¾“å…¥ï¼šnums = [2,7,11,15], target = 9
è¾“å‡ºï¼š[0,1]
è§£é‡Šï¼šå› ä¸º nums[0] + nums[1] == 9 ï¼Œè¿”å› [0, 1] ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```txt
è¾“å…¥ï¼šnums = [3,2,4], target = 6
è¾“å‡ºï¼š[1,2]
```

**ç¤ºä¾‹ 3ï¼š**

```txt
è¾“å…¥ï¼šnums = [3,3], target = 6
è¾“å‡ºï¼š[0,1]
```

**æç¤ºï¼š**

* 2 <= nums.length <= 103
* -109 <= nums[i] <= 109
* -109 <= target <= 109
* åªä¼šå­˜åœ¨ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆ

## é—®é¢˜è§£æ

1. HashMap çš„åŸºæœ¬æ€æƒ³æ˜¯**å½“åˆ¤æ–­ä¸€ä¸ªæ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨ä¸¤ä¸ªæ•°çš„å’Œä¸ºç›®æ ‡å€¼æ—¶ï¼Œå¯ä»¥é€šè¿‡åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨å’Œç›®æ ‡å…ƒç´ -å½“å‰å…ƒç´ çš„å€¼**ã€‚
2. å› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡**Hash æ˜ å°„**çš„æ–¹æ³•ï¼Œå…¶ä¸­ $key$ ä¸ºå…ƒç´ å€¼ï¼Œ$value$ ä¸ºå…¶å¯¹åº”çš„æ•°ç»„ä¸‹è¡¨ï¼Œä»è€Œå‡å°‘æŸ¥æ‰¾çš„æ¬¡æ•°ã€‚

## å‚è€ƒä»£ç 

```java
/**
 * 1. ä¸¤æ•°ä¹‹å’Œ
 * @param nums  æ•°ç»„
 * @param target    ç›®æ ‡å€¼
 * @return  å’Œä¸ºç›®æ ‡å€¼çš„ä¸¤ä¸ªæ•´æ•°çš„ä¸‹æ ‡
 */
public int[] twoSum(int[] nums, int target) {
    HashMap<Integer, Integer> map = new HashMap<>();
    
    for (int i = 0; i < nums.length; i++) {
        if (map.containsKey(target - nums[i]) && map.get(target - nums[i]) != i) {return new int[]{i, map.get(target - nums[i])};}
        map.put(nums[i], i);
    }
    
    return new int[]{};
}
```

## æ‰©å±•é¢˜ç›®

### å…ƒç´ æœªæ’åºï¼ŒåŒ…å«é‡å¤å…ƒç´ ï¼Œè¾“å‡ºæ‰€æœ‰æ•°å¯¹

#### é—®é¢˜è§£æ

1. ç”±äºåŒ…å«é‡å¤å…ƒç´ ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹ä¸Šé¢ä½¿ç”¨çš„å“ˆå¸Œè¡¨è¿›è¡Œä¿®æ”¹ï¼š
   1. **$key$ä¾ç„¶æ˜¯æ•°ç»„ä¸­çš„å…ƒç´ **ï¼Œ$value$**æ”¹ä¸ºå¯¹åº”å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•é˜Ÿåˆ—**ã€‚
2. åˆå§‹æ—¶å°†æ‰€æœ‰å…ƒç´ åŠå…¶å¯¹åº”äºæ•°ç»„ä¸­çš„ç´¢å¼•é˜Ÿåˆ—å­˜å…¥å“ˆå¸Œè¡¨ä¸­ã€‚
3. åœ¨éå†æ•°ç»„ä¸­çš„å…ƒç´ æ—¶ï¼Œå‡è®¾å½“å‰å…ƒç´ ä¸º $key$ï¼Œ$temp$ ä¸ºç›®æ ‡å’Œ $target$ ä¸ $key$ çš„å·®ï¼Œå³ $temp = target - key$ï¼Œå½“æ»¡è¶³ä»¥ä¸‹æƒ…å†µæ—¶æ›´æ–°ç»“æœæ•°ç»„ï¼š
   1. **å“ˆå¸Œè¡¨ä¸­åŒ…å«**$temp$ã€‚
   2. $temp$**çš„ç´¢å¼•é˜Ÿåˆ—ä¸ä¸ºç©º**ã€‚
   3. $key$**å’Œ**$temp$**çš„ç´¢å¼•é˜Ÿåˆ—é˜Ÿé¡¶å…ƒç´ ä¸ç›¸ç­‰**ï¼ˆä¸ºäº†å¤„ç†æ•°ç»„ä¸º[3]ï¼Œç›®æ ‡å’Œä¸º 6 çš„æƒ…å†µï¼‰ã€‚
4. æ³¨æ„äº‹é¡¹ï¼š
   1. **ç»“æœæ•°ç»„èµ‹å€¼æ—¶å…ƒç´ å¯¹åº”çš„ä¸‹æ ‡éœ€è¦ä»ç´¢å¼•é˜Ÿåˆ—ä¸­å–**ï¼Œ**è¿™æ ·ä¸»è¦ä¸ºäº†é¿å…å…ƒç´ é‡å¤åˆ¤æ–­**ï¼š`res[index++] = new int[]{map.get(key).poll(), map.get(temp).poll()};`
   2. **å¦‚æœå½“å‰å…ƒç´ å·²ç”¨å®Œ**ï¼Œ**åˆ™å°†å…¶ä»å“ˆå¸Œè¡¨ä¸­ç§»é™¤**ï¼š`if (map.get(temp).size() == 0) {map.remove(key);}`ã€‚

#### å‚è€ƒä»£ç 

```java
/**
 * 1. ä¸¤æ•°ä¹‹å’Œï¼ˆåŒ…å«é‡å¤å…ƒç´ ï¼Œè¾“å‡ºæ‰€æœ‰æ•°å¯¹ï¼‰
 * @param numbers   æ•°ç»„
 * @param target    ç›®æ ‡å’Œ
 */
public static int[][] twoSum (int[] numbers, int target) {
    Map<Integer, Queue<Integer>> map = new HashMap<>(); //  key ä¸ºå…ƒç´ ï¼Œvalue ä¸ºå…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•é˜Ÿåˆ—
    int[][] res = new int[numbers.length / 2][];
    int index = 0;

    /**
     * å­˜å‚¨æ•°ç»„å…ƒç´ åŠå…¶å¯¹åº”äºæ•°ç»„ä¸­çš„ç´¢å¼•é˜Ÿåˆ—
     */
    for (int i = 0; i < numbers.length; i++) {
        int key = numbers[i];
        Queue<Integer> queue = new LinkedList<>();
        if (!map.containsKey(key)) {queue = new LinkedList<>();} 
        else {queue = map.get(key);}
        queue.offer(i + 1);
        map.put(key, queue);
    }

    /**
     * è·å–ç›®æ ‡å’Œä¸º target çš„å…¨éƒ¨æ•°å¯¹
     */
    for (int i = 0; i < numbers.length; i++) {
        int key = numbers[i];
        int temp = target - key;
        if (map.containsKey(temp) && map.get(temp).size() > 0 && map.get(key).peek() != map.get(temp).peek()) {
            //  map.get(key).peek() != map.get(temp).peek() æ˜¯ä¸ºäº†å¤„ç† [3] target = 6 çš„ç‰¹æ®Šæƒ…å†µ
            res[index++] = new int[]{map.get(key).poll(), map.get(temp).poll()};
            if (map.get(temp).size() == 0) {map.remove(key);}   //  å¦‚æœå½“å‰å…ƒç´ å·²ç”¨å®Œï¼Œåˆ™å°†å…¶ä» map ä¸­ç§»é™¤
        }
    }
    return res;
}
```

### å…ƒç´ å·²æ’åºï¼Œå¸¸é‡çº§é¢å¤–ç©ºé—´

#### é—®é¢˜è§£æ

1. å› ä¸ºå…ƒç´ å·²æ’åºï¼Œæ‰€ä»¥å¯ä»¥è€ƒè™‘ä½¿ç”¨**äºŒåˆ†æ³•**æŸ¥æ‰¾ç›®æ ‡å’Œå‡å»å½“å‰å…ƒç´ å¯¹åº”çš„å…ƒç´ ã€‚

#### å‚è€ƒä»£ç 

```java
/**
 * 1. ä¸¤æ•°ä¹‹å’Œï¼ˆå…ƒç´ å·²æ’åºï¼Œå¸¸é‡çº§é¢å¤–ç©ºé—´ï¼‰
 * @param numbers   æ•°ç»„
 * @param target    ç›®æ ‡å’Œ
 */
public int[] twoSum(int[] numbers, int target) {
    for (int i = 0; i < numbers.length; i++) {
        int temp = search(numbers, target - numbers[i], i + 1, numbers.length - 1);
        if (temp != -1) {return new int[]{i + 1, temp + 1};}
    }
    return new int[2];
}

/**
 * äºŒåˆ†æŸ¥æ‰¾
 * @param numbers   æ•°ç»„
 * @param num   ç›®æ ‡å…ƒç´ 
 * @param _left å·¦è¾¹ç•Œ
 * @param _right    å³è¾¹ç•Œ
 */
public int search(int[] numbers, int num, int _left, int _right) {
    int left = _left, right = _right;
    while (left <= right) {
        int mid = mid = left + (right - left) / 2;
        if (numbers[mid] < num) {left = mid + 1;}
        else if (numbers[mid] > num) {right = mid - 1;}
        else if (numbers[mid] == num) {return mid;}
    }
    return -1;
}
```

## ç›¸å…³é¢˜ç›®

### ä¸‰æ•°ä¹‹å’Œ

> é¢˜ç›®æ¥æºï¼š[15. ä¸‰æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/3sum)ã€‚

#### é¢˜ç›®

ç»™ä½ ä¸€ä¸ªåŒ…å« n ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œåˆ¤æ–­ nums ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  aï¼Œbï¼Œc ï¼Œä½¿å¾— a + b + c = 0 ï¼Ÿè¯·ä½ æ‰¾å‡ºæ‰€æœ‰å’Œä¸º 0 ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚

**æ³¨æ„ï¼š** ç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚

**ç¤ºä¾‹ 1ï¼š**

```txt
è¾“å…¥ï¼šnums = [-1,0,1,2,-1,-4]
è¾“å‡ºï¼š[[-1,-1,2],[-1,0,1]]
```

**ç¤ºä¾‹ 2ï¼š**

```txt
è¾“å…¥ï¼šnums = []
è¾“å‡ºï¼š[]
```

**ç¤ºä¾‹ 3ï¼š**

```txt
è¾“å…¥ï¼šnums = [0]
è¾“å‡ºï¼š[]
```

**æç¤ºï¼š**

* 0 <= nums.length <= 3000
* -105 <= nums[i] <= 105

#### é—®é¢˜è§£æ

1. å…ˆå¯¹åŸæ¥çš„æ•°ç»„è¿›è¡Œæ’åºã€‚
2. å‡è®¾æ•°ç»„ $nums$ çš„é•¿åº¦ä¸º $len$ã€‚
3. é¦–å…ˆå›ºå®šä¸€ä¸ªç‚¹ $nums[i]$ï¼Œè¿›è¡Œ **ç¬¬ä¸€æ¬¡å»é‡** ğŸ’ ï¼Œå¦‚æœ $nums[i]==nums[i+1]$ï¼Œåˆ™è¿›è¡Œä¸‹ä¸€ä¸ªå¾ªç¯ã€‚
4. ç„¶ååˆ†åˆ«å®šä¹‰å·¦ã€å³æŒ‡é’ˆï¼š

$$
left = i + 1
$$

$$
right = len - 1
$$

5. å®šä¹‰ $sum$ï¼š

$$
sum = nums[i] + nums[left] + nums[right]
$$

6. å¯¹ $sum$ è¿›è¡Œåˆ¤æ–­ï¼š

   * å¦‚æœ $sum>0$ï¼Œ$left++$ã€‚
   * å¦‚æœ $sum < 0$ï¼Œ$right--$ã€‚
   * å¦‚æœ $sum = 0$ï¼Œå°† $[nums[i],nums[left],nums[right]]$ æ·»åŠ åˆ°ç»“æœä¸­ï¼ŒåŒæ—¶ $left++,right--$ï¼Œç„¶åè¿›è¡Œ **ç¬¬äºŒæ¬¡å»é‡** ğŸ’ ï¼š

   $$
   while(left < right \space and \space nums[left] == nums[left+1]) \space left++
   $$

   $$
   while(left < right \space and \space nums[right] == nums[right-1]) \space rightâ€”
   $$

   ![](https://ricear.com/media/202105/15-ä¸‰æ•°ä¹‹å’Œï¼ˆåŒæŒ‡é’ˆæ³•ï¼‰_1621948196.gif)

#### å‚è€ƒä»£ç 

~~~java
/**
 * 15. ä¸‰æ•°ä¹‹å’Œ
 * @param nums  æ•°ç»„
 * @return  å’Œä¸º 0 ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„
 */
public List<List<Integer>> threeSum(int[] nums) {
  int len = nums.length, left, right, sum;
  List<List<Integer>> res = new ArrayList<>();
  
  if (len < 3) {return res;}	//  å¦‚æœæ•°ç»„çš„é•¿åº¦å¤§äº 3ï¼Œè¯´æ˜ä¸ç¬¦åˆé¢˜æ„ï¼Œç›´æ¥è¿”å›ç©ºæ•°ç»„å³å¯
  
  Arrays.sort(nums);
  for (int i = 0; i < len; i++) {
    if (nums[i] > 0) {continue;}	//  å¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ éƒ½å¤§äº 0ï¼Œ è¯´æ˜åé¢çš„å…ƒç´ è‚¯å®šå¤§äº 0ï¼Œåˆ™ä¸‰è€…ä¹‹å’Œè‚¯å®šå¤§äº 0ï¼Œç»§ç»­è¿›è¡Œä¸‹ä¸€ä¸ªå¾ªç¯å³å¯
    /** ç¬¬ä¸€æ¬¡å»é‡ **/
    if (i > 0 && nums[i] == nums[i - 1]) {continue;}	//  å¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ å‰åä¸¤ä¸ªä¸€æ ·ï¼Œåˆ™æœ€åçš„ç»“æœå¯èƒ½å’Œå‰é¢çš„ç»“æœé‡å¤
    
    left = i + 1;right = len - 1;
    while (left < right) {
      sum = nums[i] + nums[left] + nums[right];
      if (sum < 0) {left++;}
      else if (sum > 0) {right--;}
      else if (sum == 0) {
        res.add(Arrays.asList(nums[i], nums[left], nums[right]));
        /** ç¬¬äºŒæ¬¡å»é‡ **/
        while (left < right && nums[left] == nums[left+1]) {left++;}	//  å¦‚æœå·¦æŒ‡é’ˆå¯¹åº”å…ƒç´ å’Œå…¶ä¸‹ä¸€ä¸ªå…ƒç´ ç›¸åŒï¼Œåˆ™æœ€åçš„ç»“æœå¯èƒ½å’Œå‰é¢çš„ç»“æœé‡å¤ï¼Œç›´æ¥å°†å·¦æŒ‡é’ˆå‘åé¢ç§»åŠ¨ä¸€ä½å³å¯
        while (left < right && nums[right] == nums[right-1]) {right--;}	//  å¦‚æœå³æŒ‡é’ˆå¯¹åº”å…ƒç´ å’Œå…¶ä¸Šä¸€ä¸ªå…ƒç´ ç›¸åŒï¼Œåˆ™æœ€åçš„ç»“æœå¯èƒ½å’Œå‰é¢çš„ç»“æœé‡å¤ï¼Œç›´æ¥å°†å³æŒ‡é’ˆå‘å‰é¢ç§»åŠ¨ä¸€ä½å³å¯
        left++;right--;	//  å°†å·¦æŒ‡é’ˆå³ç§»ï¼Œå³æŒ‡é’ˆå·¦ç§»
      }
    }
  }
  return res;
}
~~~

## å‚è€ƒæ–‡çŒ®

1. [ç”»è§£ç®—æ³•ï¼š15. ä¸‰æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/3sum/solution/hua-jie-suan-fa-15-san-shu-zhi-he-by-guanpengchn)ã€‚