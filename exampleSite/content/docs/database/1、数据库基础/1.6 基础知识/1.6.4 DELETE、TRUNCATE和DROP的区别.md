---
weight: 4
---

# DELETE、TRUNCATE和DROP的区别

## 1 DELETE

1. 操作**可以针对 `table`**，**也可以针对 `view`**。
2. **仅删除表中的数据**。
3. **数据库操作语言**（DML），删除时是**每次从表中删除一行**，所以**会很慢**，操作会放到`rollback segment`，并且会将其**作为事务记录在日志中保存以便进行回滚操作**，**事务提交之后才生效**。
4. 如果有相应的**触发器**，**执行的时候会被触发**。
5. **不会减少表或索引所占用的空间**。

## 2 TRUNCATE

1. **只能针对 `table`**。
2. **删除表中的所有行**，但**表结构**、**列**、**约束**、**索引等保持不变**，**新行标识所用的计数值重置为该列的种子**。
3. **数据库定义语言**（DDL），**操作立即生效**，**原数据不放到 `rollback segment`中**，**不能回滚**。
4. **操作不能触发触发器**。
5. **会将表和索引所占用的空间恢复到初始大小**。
6. **通过释放存储表数据所用的数据页来删除数据**，并且**只在事务日志中记录页的释放**。
7. 不能对以下表使用`truncate`：
   1. **由 `FOREIGN KEY`约束引用的表**。
   2. **参与索引视图的表**。
   3. 通过**使用事务复制或合并复制发布的表**。

## 3 DROP

1. **只能针对 `table`**。
2. **删除表结构**、**列**、**约束**、**触发器**、**索引**，**依赖于该表的存储过程和函数将被保留**，**但是会变为 `invalid`状态**。
3. **数据库定义语言**（DDL），**操作立即生效**，**原数据不放到 `rollback segment`中**，**不能回滚**。
4. **操作不能触发触发器**。
5. 会**将表占用的空间全释放掉**。

## 参考文献

1. [Drop/Delete/Truncate的区别？](https://github.com/wolverinn/Waking-Up/blob/master/Database.md#DropDeleteTruncate%E7%9A%84%E5%8C%BA%E5%88%AB)
2. [SQL中drop、truncate和delete的区别](https://juejin.cn/post/6885253246865293325)。
